{"version":3,"sources":["myForm.js","index.js"],"names":["cf","MyForm","props","state","questions","fetch","then","response","json","responseJson","setState","this","ConversationalForm","startTheConversation","options","submitCallback","showProgressBar","preventAutoFocus","userImage","robotImage","tags","elem","appendChild","el","data","getFormData","console","log","JSON","stringify","method","headers","body","addRobotChatResponse","ref","React","Component","App","render","document","getElementById"],"mappings":"2IAEIA,E,iEAEiBC,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,UAAW,IAHI,E,gEAQE,IAAD,OAElBC,MAAM,qDAELC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,EAAKC,SAAS,CAACN,UAAUK,IAAe,kBAAsB,EAAKN,MAAMC,kB,2CAKvE,KAAOO,KAAKR,MAAMC,YAEpBJ,EAAKY,qBAAmBC,qBAAqB,CAC3CC,QAAS,CACPC,eAAgBJ,KAAKI,eACrBC,iBAAiB,EACjBC,kBAAkB,EAClBC,UAAW,8DACXC,WAAY,wDAEdC,KAAMT,KAAKR,MAAMC,YAEnBO,KAAKU,KAAKC,YAAYtB,EAAGuB,O,uCAa3B,IAAMC,EAAOxB,EAAGyB,aAAY,GAC5BC,QAAQC,IAAIC,KAAKC,UAAUL,IAIfnB,MAAM,uDAAwD,CACxEyB,OAAQ,OACRC,QAAS,CACP,eAAgB,qCAGlBC,KAAMJ,KAAKC,UAAUL,KAGvBE,QAAQC,IAAIH,GAIZxB,EAAGiC,qBAAqB,uS,+BAGhB,IAAD,OACP,OACE,8BACE,qBACEC,IAAK,SAAAA,GAAG,OAAI,EAAKb,KAAOa,W,GAtEEC,IAAMC,WCCpCC,G,wDACJ,aAAe,wC,qDAKb,OACE,8BACE,cAAC,EAAD,U,GARUD,cAclBE,iBAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.b18669ea.chunk.js","sourcesContent":["import React from 'react';\nimport { ConversationalForm } from 'conversational-form';\nvar cf;\n\nexport default class MyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      questions: []\n    };\n    //this.submitCallback = this.submitCallback.bind(this);\n  }\n\n  componentDidMount() {\n    var getQuestions;\n    fetch('https://agile-radar-next.vercel.app/api/questions')\n    //fetch('http://localhost:3000/api/questions')\n    .then((response) => response.json())\n    .then((responseJson) => {\n      this.setState({questions:responseJson}, () => getQuestions = (this.state.questions));\n    })\n  }\n  \n  componentDidUpdate() {\n    if (\"\" !== this.state.questions) {\n      //var cf = ConversationalForm.startTheConversation({\n      cf = ConversationalForm.startTheConversation({\n        options: {\n          submitCallback: this.submitCallback,\n          showProgressBar: true,\n          preventAutoFocus: false,\n          userImage: \"https://acue.io/wp-content/uploads/2021/01/Acue_chatbot.svg\",\n          robotImage: \"https://acue.io/wp-content/uploads/2021/01/skunk.svg\",\n        },\n        tags: this.state.questions\n      });\n      this.elem.appendChild(cf.el);\n    }\n  }\n\n\n\n\n  submitCallback() {\n    //var formDataSerialized = cf.getFormData(true);\n    //console.log(\"Formdata, obj:\", formDataSerialized);\n    //alert(JSON.stringify(formDataSerialized));\n\n    //event.preventDefault();\n    const data = cf.getFormData(true);\n    console.log(JSON.stringify(data));\n    \n    \n    //const res = fetch('http://localhost:3000/api/saveanswers?', {\n    const res = fetch('https://agile-radar-next.vercel.app/api/saveanswers?', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      \n      body: JSON.stringify(data),\n    });\n     //data =  res.json(); // <--- this is the missing part\n    console.log(data)\n\n    \n\n    cf.addRobotChatResponse(\"Your are done. Grab a well deserved coffee whilst checking out your cool chart and compare it to your competitors. If you'd like more information on our deep dive assessments, feel free to contcat us <a href=\\\"https://acue.io/get-in-touch\\\" target=\\\"_blank\\\">https://acue.io/get-in-touch/</a>\")\n  }\n  \n  render() {\n    return (\n      <div>\n        <div\n          ref={ref => this.elem = ref}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport MyForm from './myForm';\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n  }\n\n  render() {\n    return (\n      <div>\n        <MyForm />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}